# Lecture 9

Make sure you read Locking in xv6 book.

#### Lock is used to preserve data structure invariant
#### Implementation of spin-lock using `xchg`
#### Deadlock and lock ordering
#### Lock and modularity/encapsulation
#### xv6: lock and enabling/disabling interrupt
#### Prevent compiler reordering with `__sync_synchronize`
#### spin-lock v.s. sleep-lock


